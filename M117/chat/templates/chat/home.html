<!doctype html>
<html lang="en">
<meta name="viewport" content="width=device-width, initial-scale=1">
  <head>
       {% load static %}
       <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
       <link rel="stylesheet" href="{% static "/chat/stylesheet/font-awesome-4.7.0/css/font-awesome.min.css" %}">
       <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
       <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <meta charset="utf-8">
    <title>ChitChat</title>
  </head>
  <style>

    #header {
        width: 100%;
        background-color: white;
        height: 30px;
        margin-left: auto;
        margin-right: auto;
        text-align: center
    }
    #container {
        width: 100%;
        background-color: white;
        margin-left: 75px;
    }
    #login {
        width: 400px;
        float: left;
        height: 290px;
        border: 3px solid #A3CCFF;
        border-radius: 6px;
        margin: auto;
    }
    #signup {
        width: 400px;
        float: left;
        height: 890px;
        border: 3px solid #A3CCFF;
        border-radius: 6px;
        margin: auto;
    }
    #empty {
        width: 10px;
        float: left;
        height: 300px;
        background-color: white;
        text-align: center;
    }
    div.container {
      display: table;
      margin: auto;
    }
    input.fillin {
    display: block;
    margin-left: auto;
    margin-right: auto;
    }

    .button {
        background-color: #4CAF50;
        border: none;
        color: white;
        padding: 5px 18px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        -webkit-transition-duration: 0.4s;
        transition-duration: 0.4s;
        cursor: pointer;
        display: block;
        margin-left: auto;
        margin-right: auto;
    }

    .button1 {
        background-color: white;
        color: black;
        border: 2px solid #e7e7e7;
    }

    .button1:hover {
        background-color: #A3CCFF;
        color: white;
    }


       #map {
        width: 400px;
        height: 300px;
        position: fixed;
        float: left;
       }


input[type=text], select {
    width: 300px;
    padding: 10px;
    margin: 10px 50px 10px 50px;
    display: inline-block;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-sizing: border-box;
}

input[type=password], select {
    width: 300px;
    padding: 10px;
    margin: 10px 50px 10px 50px;
    display: inline-block;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-sizing: border-box;
}

  </style>

  <script>
    var x = document.getElementById("loc");
    var location_val = ''
    function getLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition);
        } else {
            x.innerHTML = "Geolocation is not supported by this browser.";
        }
    }
    var location_val = "";

    function showPosition(position) {

      location_val = position.coords.longitude + ',' + position.coords.latitude;
      document.getElementById("location_vali").value = location_val;

    }




      // Note: This example requires that you consent to location sharing when
      // prompted by your browser. If you see the error "The Geolocation service
      // failed.", it means you probably did not give permission for the browser to
      // locate you.
      var map, infoWindow;
      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 0, lng: 0},
          zoom: 10
        });
        infoWindow = new google.maps.InfoWindow;

        // Try HTML5 geolocation.
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
            var pos = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            };

            infoWindow.setPosition(pos);
            infoWindow.setContent('You are here!');
            infoWindow.open(map);
            map.setCenter(pos);
          }, function() {
            handleLocationError(true, infoWindow, map.getCenter());
          });
        } else {
          // Browser doesn't support Geolocation
          handleLocationError(false, infoWindow, map.getCenter());
        }
      }

      function handleLocationError(browserHasGeolocation, infoWindow, pos) {
        infoWindow.setPosition(pos);
        infoWindow.setContent(browserHasGeolocation ?
                              'Error: The Geolocation service failed.' :
                              'Error: Your browser doesn\'t support geolocation.');
        infoWindow.open(map);
      }









    function getdata(){
      var first_name=document.getElementById("first_name").value;
      var last_name=document.getElementById("last_name").value;
      var user_name=document.getElementById("user_name").value;
      var password=document.getElementById("password").value;
      var email=document.getElementById("email").value;
      var school=document.getElementById("school").value;
      var Action = document.getElementById("Action").checked;
      var Adventure = document.getElementById("Adventure").checked;
      var Animation = document.getElementById("Animation").checked;
      var Biography = document.getElementById("Biography").checked;
      var Comedy = document.getElementById("Comedy").checked;
      var Crime = document.getElementById("Crime").checked;
      var Documentary = document.getElementById("Documentary").checked;
      var Drama = document.getElementById("Drama").checked;
      var Family = document.getElementById("Family").checked;
      var Fantasy = document.getElementById("Fantasy").checked;
      var FilmNoir = document.getElementById("FilmNoir").checked;
      var History = document.getElementById("History").checked;
      var Horror = document.getElementById("Horror").checked;
      var Music = document.getElementById("Music").checked;
      var Musical = document.getElementById("Musical").checked;
      var Mystery = document.getElementById("Mystery").checked;
      var Romance = document.getElementById("Romance").checked;
      var SciFi = document.getElementById("SciFi").checked;
      var Sport = document.getElementById("Sport").checked;
      var Thriller = document.getElementById("Thriller").checked;
      var War = document.getElementById("War").checked;
      var Western = document.getElementById("Western").checked;

    }
  </script>


  <script>
  getLocation();
  </script>

  <body>
      <div id="header">
        <h1 style="width: 1000px;">Welcome to #ChitChatCity</h1>
      </div>
      <br>
      <div id="container" style="min-width: 1000px;">
        <!-- This is where the login starts-->
          <div>
               <form id="login" method="POST">
                    {% csrf_token %}
                    <h2 style="text-align: center;"> Login </h2>
                    <br>
                         <div>
                                   <input class="fillin" type="text" placeholder="Username" name="uname" required>
                                   <br>
                                   <input class="fillin" type="password" placeholder="Password" name="psw" required>
                                   <br>
                                   <button class="button button1" type="submit">Login</button>
                    </div>
                    <br>
                    <br>
                    <br>
                    <div id="map"></div>
                    <script async defer
                    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBpC42p6pIWPmJKrsQ-INth3stt4AIE2TE&callback=initMap">
                    </script>
               </form>

          </div>
          <div id="empty">
          </div>
        <!-- This is where the signup starts-->
          <div>
            <form id="signup" method="POST">
              {% csrf_token %}
              <h2 style="text-align: center"> Sign up </h2>
              <br>
              <div>
                  <input id="first_name" class="fillin" type="text" placeholder="First name" name="fname" required>
                  <br><input id="last_name" class="fillin" type="text" placeholder="Last name" name="lname" required>
                  <br><input id="user_name" class="fillin" type="text" placeholder="Username" name="uname" required>
                  <br><input id="password" class="fillin" type="password" placeholder="Password" name="psw" required>
                  <br><input id="email" class="fillin" type="text" placeholder="Email" name="email" required>
                  <br><input id="school" class="fillin" type="text" placeholder="School name" name="school" required>
                  <br><input style="display:none;" id="location_vali" onclick="getLocation()" class="fillin" type="text" placeholder="location" name="location" required>
                  <div style=" padding: 10px;">
                  <p style="font-weight: bold;"> Choose all movie genres you are interested in :</p>
                  <table class="table">
                    <tr>
                    <td><input id="Action" type="checkbox" name="Action"> Action</td>
                    <td><input id="Adventure" type="checkbox" name="Adventure"> Adventure</td>
                    <td><input id="Animation" type="checkbox" name="Animation"> Animation</td>
                    </tr>
                    <tr>
                    <td><input id="Biography" type="checkbox" name="Biography"> Biography</td>
                    <td><input id="Comedy" type="checkbox" name="Comedy"> Comedy</td>
                    <td><input id="Crime" type="checkbox" name="Crime"> Crime</td>
                    </tr>
                    <tr>
                    <td><input id="Documentary" type="checkbox" name="Documentary"> Documentary</td>
                    <td><input id="Drama" type="checkbox" name="Drama"> Drama</td>
                    <td><input id="Family" type="checkbox" name="Family"> Family</td>
                    </tr>
                    <tr>
                    <td><input id="Fantasy" type="checkbox" name="Fantasy"> Fantasy</td>
                    <td><input id="FilmNoir" type="checkbox" name="FilmNoir"> FilmNoir</td>
                    <td><input id="History" type="checkbox" name="History"> History</td>
                    </tr>
                    <tr>
                    <td><input id="Horror" type="checkbox" name="Horror"> Horror</td>
                    <td><input id="Music" type="checkbox" name="Music"> Music</td>
                    <td><input id="Musical" type="checkbox" name="Musical"> Musical</td>
                    </tr>
                    <tr>
                    <td><input id="Mystery" type="checkbox" name="Mystery"> Mystery</td>
                    <td><input id="Romance" type="checkbox" name="Romance"> Romance</td>
                    <td><input id="SciFi" type="checkbox" name="SciFi"> SciFic</td>
                    </tr>
                    <tr>
                    <td><input id="Sport" type="checkbox" name="Sport"> Sport</td>
                    <td><input id="Thriller" type="checkbox" name="Thriller"> Thriller</td>
                    <td><input id="War" type="checkbox" name="War"> War</td>
                    </tr>
                    <tr>
                    <td></td>
                    <td><input id="Western" type="checkbox" name="Western"> Western</td>
                    <td></td>
                    </tr>
                  </table>
                  <button class="button button1" type="submit" onclick="getdata()" >submit</button>
                  </div>
                </div>
            </form>
          </div>

      </div>












</body>
</html>
